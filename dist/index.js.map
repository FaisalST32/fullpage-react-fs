{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport styles from './styles.module.css'\n\nexport const FullPageContainer = ({ showIndicators = true, ...props }) => {\n  const panelsCount = React.Children.count(props.children)\n\n  const [viewState, setViewState] = useState({\n    currentPanel: 1,\n    transitioning: false\n  })\n  const prevSection = () => {\n    setViewState((prev) => {\n      if (prev.currentPanel <= 1 || prev.transitioning) return prev\n      setTimeout(() => {\n        setViewState((prev) => ({ ...prev, transitioning: false }))\n      }, 1000)\n      return { transitioning: true, currentPanel: prev.currentPanel - 1 }\n    })\n  }\n\n  const nextSection = () => {\n    setViewState((prev) => {\n      if (prev.currentPanel >= panelsCount || prev.transitioning) return prev\n      setTimeout(() => {\n        setViewState((prev) => ({ ...prev, transitioning: false }))\n      }, 1000)\n      return { transitioning: true, currentPanel: prev.currentPanel + 1 }\n    })\n  }\n\n  const handleScroll = (e) => {\n    if (e.deltaY > 40 && viewState.currentPanel < panelsCount) {\n      nextSection()\n    } else if (e.deltaY < -40 && viewState.currentPanel > 0) {\n      prevSection()\n    }\n  }\n\n  const onSetSection = (sectionNumber) => {\n    setViewState((prev) => {\n      return { ...prev, currentPanel: sectionNumber }\n    })\n  }\n\n  useEffect(() => {\n    window.removeEventListener('wheel', (e) => {\n      handleScroll(e)\n    })\n    window.addEventListener('wheel', (e) => {\n      handleScroll(e)\n    })\n    return () => {\n      window.removeEventListener('wheel', (e) => {\n        handleScroll(e)\n      })\n    }\n  }, [])\n  return (\n    <div className={styles.screenPane}>\n      <div\n        className={styles.panelsContainer}\n        style={{ top: `${-100 * (viewState.currentPanel - 1)}vh` }}\n      >\n        {props.children}\n        {showIndicators && (\n          <NavIndicators\n            count={panelsCount}\n            activeIndex={viewState.currentPanel}\n            setIndicator={onSetSection}\n          />\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst NavIndicators = ({ count, activeIndex, setIndicator }) => {\n  let indicatorHtml = null\n  if (count) {\n    indicatorHtml = Array(count)\n      .fill(0)\n      .map((item, i) => {\n        const indicatorClasses = [styles.indicator]\n        if (i === activeIndex - 1) {\n          indicatorClasses.push(styles.active)\n        }\n        return (\n          <div\n            key={i}\n            className={indicatorClasses.join(' ')}\n            onClick={() => {\n              setIndicator(i + 1)\n            }}\n          >\n            &#11044;\n          </div>\n        )\n      })\n  }\n  return <div className={styles.navIndicators}>{indicatorHtml}</div>\n}\n\nexport const FullPagePanel = ({ bgColor, ...props }) => {\n  return (\n    <div className={styles.fullPanel} style={{ backgroundColor: bgColor }}>\n      <div className={styles.panelContent}>{props.children}</div>\n    </div>\n  )\n}\n"],"names":["FullPageContainer","showIndicators","props","panelsCount","React","Children","count","children","useState","currentPanel","transitioning","viewState","setViewState","prevSection","prev","setTimeout","nextSection","handleScroll","e","deltaY","onSetSection","sectionNumber","useEffect","window","removeEventListener","addEventListener","styles","screenPane","panelsContainer","top","NavIndicators","activeIndex","setIndicator","indicatorHtml","Array","fill","map","item","i","indicatorClasses","indicator","push","active","join","navIndicators","FullPagePanel","bgColor","fullPanel","backgroundColor","panelContent"],"mappings":"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"}